import{_ as P,i as k,o as r,c as M,w as c,j as p,m as U,k as W,T as F,a as f,g as i,b as y,l as V,v as $,n as E,q as x,s as G,x as J,y as K,r as T,z as C,F as j,e as z,t as D,p as Q,h as X}from"./index-bLcbTKix.js";const Y={name:"collapseTransition",setup(){const t=k(!1);return{show:t,on:{beforeEnter(e){t.value=!0,e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){t.value=!1,e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(t.value=!0,e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){t.value=!1,e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}}}};function Z(t,e,n,o,u,v){return r(),M(F,U(W(o.on),{class:{"collapse-transition":o.show}}),{default:c(()=>[p(t.$slots,"default",{},void 0,!0)]),_:3},16,["class"])}const ee=P(Y,[["render",Z],["__scopeId","data-v-777d0989"]]);function H(t,e,n){var o=n||{},u=o.noTrailing,v=u===void 0?!1:u,l=o.noLeading,m=l===void 0?!1:l,h=o.debounceMode,a=h===void 0?void 0:h,s,g=!1,d=0;function w(){s&&clearTimeout(s)}function R(b){var S=b||{},_=S.upcomingOnly,N=_===void 0?!1:_;w(),g=!N}function L(){for(var b=arguments.length,S=new Array(b),_=0;_<b;_++)S[_]=arguments[_];var N=this,O=Date.now()-d;if(g)return;function B(){d=Date.now(),e.apply(N,S)}function I(){s=void 0}!m&&a&&!s&&B(),w(),a===void 0&&O>t?m?(d=Date.now(),v||(s=setTimeout(a?I:B,t))):B():v!==!0&&(s=setTimeout(a?I:B,a===void 0?t-O:t))}return L.cancel=R,L}const te={props:{float:{type:Boolean,default:!0},mode:{type:String,default:"hover"},menu:{type:Boolean,default:!0},transiName:{type:String,default:"fade"}},setup(t){const e=k(!1);return{visible:e,clickToggle:()=>{t.mode=="click"&&(e.value=!e.value)},hoverToggle:u=>{t.mode!="click"&&(u.type=="mouseleave"?e.value=!1:e.value=!0)}}}},oe={key:0,class:"drop-down-menu"};function ne(t,e,n,o,u,v){return r(),f("div",{class:x(["drop-down",{"drop-down-float":n.float}]),onMouseleave:e[1]||(e[1]=(...l)=>o.hoverToggle&&o.hoverToggle(...l)),onMouseenter:e[2]||(e[2]=(...l)=>o.hoverToggle&&o.hoverToggle(...l))},[i("span",{class:"drop-down-content",onClick:e[0]||(e[0]=(...l)=>o.clickToggle&&o.clickToggle(...l))},[p(t.$slots,"default",{visible:o.visible},void 0,!0)]),y(F,{name:n.transiName},{default:c(()=>[n.menu?V((r(),f("div",oe,[p(t.$slots,"menu",{},void 0,!0)],512)),[[$,o.visible]]):E("",!0)]),_:3},8,["name"])],34)}const q=P(te,[["render",ne],["__scopeId","data-v-c66e56e1"]]),ae={name:"Navbar",components:{DropDown:q,CollapseTransition:ee},props:{url:{type:String,default:"/"},logo:{type:String,default:""},title:{type:String,default:"小白组件库"},section:{type:Object},sectionPosition:{type:String,default:"center"},width:{type:Number,default:767},height:{type:Number,default:120},fixed:{type:Boolean,default:!0},autoClose:{type:Boolean,default:!0},style:{type:Object,default:()=>({normal:{"background-color":"#fff"},arrive:{"background-color":"#fff","box-shadow":"0 4px 30px rgba(0,0,0,.07)"}})},getContainer:{type:Function,default:()=>window}},setup(t){const e=k(!1),n=k(!1),o=k(!1),u=()=>{const d=t.getContainer();let w;return d==window?w=document.documentElement.scrollTop||document.body.scrollTop:w=d.scrollTop,w},v=()=>{const d=u();console.log(d),d>=t.height?o.value=!0:o.value=!1},l=()=>{const d=document.body.clientWidth;console.log(d),d<t.width?n.value=!0:n.value=!1},m=H(200,l),h=H(200,v),a=()=>{e.value=!e.value},s=G(()=>n.value?e.value:!0),g=()=>{n.value&&t.autoClose&&setTimeout(()=>{e.value=!1},300)};return J(()=>{v(),l(),t.getContainer().addEventListener("scroll",h),window.addEventListener("resize",m)}),K(()=>{t.getContainer().removeEventListener("scroll",h),window.removeEventListener("resize",m)}),{toggle:a,visible:e,folding:n,arriveHeight:o,foldShow:s,close:g}}},le={class:"nav-main"},se={class:"nav-header"},ie={class:"nav-title"},re={key:1,class:"nav-section-item"},de={class:"nav-section-children"},ce=["onClick"],ue={class:"nav-footer-wrap"};function fe(t,e,n,o,u,v){const l=T("router-link"),m=T("DropDown"),h=T("collapse-transition");return r(),f("header",{class:x(["navbar",{"navbar-folding":o.folding,"navbar-open":o.visible&&o.folding,"navbar-fixed":n.fixed}]),style:C(o.arriveHeight?n.style.arrive:n.style.normal)},[i("nav",le,[i("div",se,[y(l,{to:n.url},{default:c(()=>[p(t.$slots,"logo",{},()=>[n.logo?(r(),f("span",{key:0,class:"nav-brand",style:C({"background-image":`url(${n.logo})`})},null,4)):E("",!0)],!0)]),_:3},8,["to"]),y(l,{to:n.url},{default:c(()=>[p(t.$slots,"title",{},()=>[i("span",ie,D(n.title),1)],!0)]),_:3},8,["to"])]),y(h,null,{default:c(()=>[V(i("ul",{class:"nav-section",style:C({"justify-content":n.sectionPosition})},[(r(!0),f(j,null,z(n.section,a=>(r(),f("li",{key:a.key},[p(t.$slots,a.slot,{item:a},()=>[y(m,{menu:!!a.children,float:!o.folding,mode:o.folding?"click":"hover"},{default:c(({visible:s})=>[a.children?(r(),f("span",re,D(a.title),1)):(r(),M(l,{key:0,to:a.link,style:{display:"block",width:"100%",height:"100%"}},{default:c(()=>[i("span",{class:x(["nav-section-item",{active:t.$route.path==a.link}]),onClick:e[0]||(e[0]=(...g)=>o.close&&o.close(...g))},D(a.title),3)]),_:2},1032,["to"])),a.children?(r(),f("span",{key:2,class:"nav-triangle nav-arrow-icon",style:C({transform:`rotate(${s?180:0}deg)`})},null,4)):E("",!0)]),menu:c(()=>[i("ul",de,[(r(!0),f(j,null,z(a.children,s=>(r(),f("li",{key:s.key,onClick:e[1]||(e[1]=(...g)=>o.close&&o.close(...g))},[p(t.$slots,s.slot||a.childSlot,{item:s},()=>[y(l,{to:s.link,custom:""},{default:c(({navigate:g})=>[i("span",{class:"nav-section-children-item",onClick:g,role:"link"},D(s.title),9,ce)]),_:2},1032,["to"])],!0)]))),128))])]),_:2},1032,["menu","float","mode"])],!0)]))),128))],4),[[$,o.foldShow]])]),_:3}),i("div",ue,[p(t.$slots,"footer",{},void 0,!0),p(t.$slots,"toggle",{},()=>[i("span",{class:"navbar-toggle-btn",onClick:e[2]||(e[2]=(...a)=>o.toggle&&o.toggle(...a))},[i("p",{class:x(["menu",{"menu-active":o.visible}])},null,2)])],!0)])])],6)}const ge=P(ae,[["render",fe],["__scopeId","data-v-2cc8fa15"]]),ve={name:"demo",components:{NavBar:ge,DropDown:q},data(){return{list:[{title:"主页",link:"/",key:"blog",slot:"blog",triangle:!1},{title:"博客",link:"/",key:"text",childSlot:"textSlot",children:[{title:"vue",link:"/",key:"vue"},{title:"java",link:"/",key:"java"}]},{title:"收集箱",link:"/",key:"text",childSlot:"textSlot",children:[{title:"音乐圈",link:"/",key:"vue"},{title:"项目圈",link:"/",key:"java"}]}]}}},A=t=>(Q("data-v-19252cd7"),t=t(),X(),t),me=A(()=>i("img",{src:"https://p.pstatp.com/origin/fede00031b9922f5244a",class:"avatar"},null,-1)),pe=A(()=>i("ul",{class:"list"},[i("li",null,"登录"),i("li",null,"注册")],-1));function ye(t,e,n,o,u,v){const l=T("DropDown"),m=T("NavBar");return r(),f("div",null,[y(m,{url:"/",logo:"https://p.pstatp.com/origin/fede00031b9922f5244a",section:u.list},{footer:c(()=>[y(l,null,{menu:c(()=>[pe]),default:c(()=>[me]),_:1})]),_:1},8,["section"])])}const _e=P(ve,[["render",ye],["__scopeId","data-v-19252cd7"]]);export{_e as default};
